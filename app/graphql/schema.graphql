enum UserRole {
  ADMIN
  TEAM_LEAD
  DEVELOPER
  DEVOPS
  QA
}

type AuthPayload {
    accessToken: String!
    refreshToken: String!
}

type AccessTokenPayload {
    accessToken: String!
}


input CreateUserInput {
  email: String!
  name: String!
  role: UserRole!
  password: String!
}

type User {
  id: ID!
  email: String!
  name: String!
  role: UserRole!
  isActive: Boolean!
}


type Integration {
  id: ID!
  name: String!
  description: String
  createdBy: ID!
  createdAt: String!
}

input CreateIntegrationInput {
  name: String!
  description: String
  assignedUserId: ID
}

input UpdateIntegrationInput {
  name: String
  description: String
}



##### QUERY ########

type Query {

    #Users
    me: User
    users: [User!]!

    #Integration
    integrations: [Integration!]!
    integration(integrationId: ID!): Integration

    }


##### MUTATION #######

type Mutation {

    #Users    
    login(email: String!, password: String!): AuthPayload!
    refreshToken(refreshToken: String!): AccessTokenPayload!
    createUser(input:CreateUserInput!): User!
    setUserActive(userId: ID!, isActive: Boolean!): User!

    #integrations
    createIntegration(input: CreateIntegrationInput!): Integration!
    updateIntegration(integrationId: ID!, input: UpdateIntegrationInput!): Integration!
    deleteIntegration(integrationId: ID!): Boolean!
    assignUserToIntegration(integrationId: ID! userId: ID!): Boolean!
    removeUserFromIntegration(integrationId: ID! userId: ID!): Boolean!

    }
